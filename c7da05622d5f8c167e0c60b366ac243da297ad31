{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "86f605d2_a08c2005",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2025-12-03T10:31:58Z",
      "side": 1,
      "message": "```suggestion\nthis bug only affected restarts that occurred before the TTL\n```",
      "range": {
        "startLine": 19,
        "startChar": 9,
        "endLine": 19,
        "endChar": 18
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91592bb4_c3ad4ec5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-12-03T10:46:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86f605d2_a08c2005",
      "range": {
        "startLine": 19,
        "startChar": 9,
        "endLine": 19,
        "endChar": 18
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc9cc25b_1e33e78a",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/quota/QuotaPluginIT.java",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2025-12-03T10:31:58Z",
      "side": 1,
      "message": "You can use the JUnit `assume()` statement here.\nSee https://www.geeksforgeeks.org/advance-java/junit-org-junit-assume/.\n\nIf the cache isn\u0027t H2, then this test won\u0027t make sense, isn\u0027t it?",
      "range": {
        "startLine": 115,
        "startChar": 0,
        "endLine": 118,
        "endChar": 5
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aad6cb18_cc5b72ce",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/quota/QuotaPluginIT.java",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-12-03T10:46:37Z",
      "side": 1,
      "message": "I\u0027m not convinced that using assume is appropriate here.\nIn this test environment, the cache should always be an H2CacheImpl, correct?\nEncountering a different implementation would be unexpected, and the test should fail.\n\nIs there any scenario where this cache is legitimately expected not to be H2CacheImpl, in which case skipping the test (rather than failing it) would be acceptable?",
      "parentUuid": "cc9cc25b_1e33e78a",
      "range": {
        "startLine": 115,
        "startChar": 0,
        "endLine": 118,
        "endChar": 5
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6135b22_b31ff62e",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/quota/QuotaPluginIT.java",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2025-12-04T15:29:39Z",
      "side": 1,
      "message": "\u003e I\u0027m not convinced that using assume is appropriate here.\n\u003e In this test environment, the cache should always be an H2CacheImpl, correct?\n\nThis test is validating the quota plugin, not H2 Cache IMHO.\nHowever, if you assume this test is coupled with H2, it should assert that the cache is actually H2.\n\n\u003e Encountering a different implementation would be unexpected, and the test should fail.\n\nThe quota plugin does not require to have H2 as cache persistent backend, therefore this test should not fail. Skipping it would be the less of the evils, but I see your point.\n\nCan we instead assert the persistence without having to cast to an H2 implementation instead?\n\n\n\u003e Is there any scenario where this cache is legitimately expected not to be H2CacheImpl, in which case skipping the test (rather than failing it) would be acceptable?\n\n\nWell, it could be if you use the quota plugin with another non-H2 implementation.",
      "parentUuid": "aad6cb18_cc5b72ce",
      "range": {
        "startLine": 115,
        "startChar": 0,
        "endLine": 118,
        "endChar": 5
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e60f0c1e_aee0aae0",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/quota/QuotaPluginIT.java",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-12-04T17:35:12Z",
      "side": 1,
      "message": "\u003e Can we instead assert the persistence without having to cast to an H2 implementation instead?\n\nYes. The only reason we are casting the cache is to have access to the disk stats, but any **persistent** cache will do.\n\nWe can drop the **H2CacheImpl** and assert on any **PersistentCache** instead.",
      "parentUuid": "d6135b22_b31ff62e",
      "range": {
        "startLine": 115,
        "startChar": 0,
        "endLine": 118,
        "endChar": 5
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c260feef_b7543fd4",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/quota/QuotaPluginIT.java",
        "patchSetId": 4
      },
      "lineNbr": 118,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2025-12-04T17:37:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e60f0c1e_aee0aae0",
      "range": {
        "startLine": 115,
        "startChar": 0,
        "endLine": 118,
        "endChar": 5
      },
      "revId": "c7da05622d5f8c167e0c60b366ac243da297ad31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}