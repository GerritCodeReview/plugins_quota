{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9e4a7aaa_da66512a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 4295880
      },
      "writtenOn": "2025-08-25T05:44:16Z",
      "side": 1,
      "message": "السلام عليكم",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2cd5da97_ab50e7ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-08-25T14:43:59Z",
      "side": 1,
      "message": "I don\u0027t really like this fix, I think it would be better to just share the freeThreads count.",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48684c53_447f65f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-08-25T14:46:32Z",
      "side": 1,
      "message": "One of the biggest issues, is that this introduces a keyword which behaves differently than all the other keywords, and that makes things harder for admins to work with.",
      "parentUuid": "2cd5da97_ab50e7ed",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f7f8e4a_00b5cff5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-08-25T15:03:59Z",
      "side": 1,
      "message": "If we just share the free threads, and later when we have global quota like:\n\n```\n[quota \"project-a\"]\n    softMaxStartPerUserForQueue \u003d 5 SSH-Interactive-Worker\n[global-quota]\n    softMaxStartPerUserForQueue \u003d 10 SSH-Interactive-Worker\n```\n\nthere would be two permits taken from free threads one by each quota.",
      "parentUuid": "48684c53_447f65f1",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1046f91_1130c7e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-08-25T15:06:16Z",
      "side": 1,
      "message": "\u003e One of the biggest issues, is that this introduces a keyword which behaves differently than all the other keywords, and that makes things harder for admins to work with.\n\nThere should be no difference in terms of behaviour only implementation.",
      "parentUuid": "0f7f8e4a_00b5cff5",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b90b8ae5_ca5e6879",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-08-25T15:12:52Z",
      "side": 1,
      "message": "\u003e there would be two permits taken from free threads one by each quota.\n\nInteresting concern. This does seem like an implementation detail though, something that can be solved in the code to avoid that.\n\n\u003e There should be no difference in terms of behaviour only implementation.\n\nI don\u0027t understand this, but maybe the commit message needs to be clearer to explain what the behavior would be before and after this change. It sounds like this change makes it only pick one of the defined quotas to enforce per queue, and that doesn\u0027t feel right.",
      "parentUuid": "b1046f91_1130c7e8",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dafdc899_ae254b61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-08-25T15:30:30Z",
      "side": 1,
      "message": "This change is effectively sharing the free threads and that is all. The free threads is represented by `TaskQuota`. Previously, multiple instances of TaskQuotas (free threads) were created for each  `softMaxStartPerUserForQueue` but now only one. No behaviour changes (previous to this change was buggy we are fixing it now.)",
      "parentUuid": "b90b8ae5_ca5e6879",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9a29c77_0ac1ba3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-08-25T15:32:55Z",
      "side": 1,
      "message": "If it was buggy, that has to involve bad behavior. Can you describe in the CM what these changes are?",
      "parentUuid": "dafdc899_ae254b61",
      "revId": "68ca9f21275ff09b31c6806aacaf04759ccd7cb9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}