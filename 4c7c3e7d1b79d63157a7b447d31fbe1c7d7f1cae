{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "960a998e_eb59c44f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MinStartForQueueQuota.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "group(2)?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff65c9a9_b93ad21c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MinStartForQueueQuota.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "960a998e_eb59c44f",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "151bab92_39cfeaab",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "What are the Integers here? (Use \"By\" notation) is this taskById?\n\nI think you need a ConcurrentHashMap.",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8eed5ab3_045d357f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "151bab92_39cfeaab",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e21afe6_3acc757b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:57:55Z",
      "side": 1,
      "message": "final?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "734bd904_affb71b5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e21afe6_3acc757b",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "081fbffb_b8efb2d6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:57:55Z",
      "side": 1,
      "message": "final?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d65a17f_3d2b988d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "081fbffb_b8efb2d6",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61e721bb_f7dc288c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:57:55Z",
      "side": 1,
      "message": "Is this constructor needed?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f57fd551_b0d1781b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61e721bb_f7dc288c",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51de6bf4_02011446",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "```\u003e\u003d``` just in case?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be3cecdd_c0bd4a76",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51de6bf4_02011446",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed43b4f6_7da6d30e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "Check that this was actually added and not already there?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60d6d425_b8e13e33",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-21T22:48:12Z",
      "side": 1,
      "message": "Is this to avoid the core bug ?",
      "parentUuid": "ed43b4f6_7da6d30e",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9e53734_a1fbab5e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-22T14:37:34Z",
      "side": 1,
      "message": "Yes.",
      "parentUuid": "60d6d425_b8e13e33",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d01719b_afa27dde",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "Move the reservations.isEmpty()",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5dd44eef_4749735e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-21T22:48:12Z",
      "side": 1,
      "message": "to where ?\n\ncanAllocate should only be checked if reservation is not empty.",
      "parentUuid": "2d01719b_afa27dde",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a2bb5a2_8e07792e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-22T14:37:34Z",
      "side": 1,
      "message": "Sorry, I didn\u0027t mean to publish that. I was thinking that it might make the logic cleaner if that were inside canAllocate(), but that isn\u0027t important.",
      "parentUuid": "5dd44eef_4749735e",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f48e7a98_96555007",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "allocationsByReservation?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "467dc45c_594f5b2d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f48e7a98_96555007",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7b70350_18c0874c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:48:50Z",
      "side": 1,
      "message": "It\u0027s not clear to me why you need the \u0027tasks\u0027 Map? I think it would be easier to modify and use the runningTasks Map for this? Maybe this is a holdover from when you were dealing with per command reservations?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2fa815e5_7f342f9c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:49:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7b70350_18c0874c",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "615fb58d_22ecbf7e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 169,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-21T21:57:55Z",
      "side": 1,
      "message": "Move this up to line 167 at least and use it in line 168? It could potentially be used to even make line 160 clearer?",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95d09d41_f671be41",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 169,
      "author": {
        "id": 4069542
      },
      "writtenOn": "2025-10-22T03:54:43Z",
      "side": 1,
      "message": "I don\u0027t think `capacityToReserve \u003d queueInfo.spareThreads - 1` reserve makes sense outside of this if block.",
      "parentUuid": "615fb58d_22ecbf7e",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1762fa29_f7dee750",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/QueueManager.java",
        "patchSetId": 2
      },
      "lineNbr": 169,
      "author": {
        "id": 3604707
      },
      "writtenOn": "2025-10-22T14:37:34Z",
      "side": 1,
      "message": "Why not? The variable name seems very clear to me, how much can still be reserved, and the value is useful to make line 156:\n```if (reservation.reservedCapacity() \u003e capacityToReserve) {```\n\nI think it is even useful to change line 148 to:\n```if (capacityToReserve \u003c 1) {```\n\nBoth of those statements seem to express their intents better than the existing ifs to me.",
      "parentUuid": "95d09d41_f671be41",
      "revId": "4c7c3e7d1b79d63157a7b447d31fbe1c7d7f1cae",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}