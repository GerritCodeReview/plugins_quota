{
  "comments": [
    {
      "key": {
        "uuid": "ef4cddb4_dc45ad31",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2014-02-12T09:03:58Z",
      "side": 1,
      "message": "performance and resource consumption could be improved by using java.nio.file.DirectoryStream instead of listFiles()\n\nhttp://docs.oracle.com/javase/7/docs/api/java/nio/file/DirectoryStream.html",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef4cddb4_1ce555fa",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-12T10:45:17Z",
      "side": 1,
      "message": "I guess this is a wrong place to ask you a question, but you are referencing here new Java 7 feature so i will do it anyway:\n\nOne of the most wanted missing features in JGit is that gitManager and RevWalk not implement AutoClosable interface. \n\nSo instead being that verbose:\n\n  final Repository repo;\n    try {\n      repo \u003d gitManager.openRepository(change.getProject());\n    } catch (RepositoryNotFoundException e) {\n      throw new NoSuchChangeException(change.getId(), e);\n    }\n\n    try {\n      RevWalk rw \u003d new RevWalk(repo);\n      RevCommit commit \u003d edit.get(repo, rw);\n      if (commit \u003d\u003d null) {\n        throw new NoSuchChangeException(change.getId());\n      }\n      BatchRefUpdate ru \u003d repo.getRefDatabase().newBatchUpdate();\n      ru.addCommand(new ReceiveCommand(commit,\n          ObjectId.zeroId(), edit.toRefName()));\n      try {\n        ru.execute(rw, NullProgressMonitor.INSTANCE);\n      } finally {\n        rw.release();\n      }\n    } finally {\n      repo.close();\n   }\n\nWe would like to use it with try-with-resources block:\n\n  try (Repository repo \u003d gitManager.openRepository(change.getProject());\n       RevWalk rw \u003d new RevWalk(repo);\n  ) {\n     // use it\n  }",
      "parentUuid": "ef4cddb4_dc45ad31",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f435582_befc198d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-02-12T12:23:55Z",
      "side": 1,
      "message": "The File.newDirectoryStream will only walk one level of files/folder.\nFor walking the complete tree we need the Files.walkFileTree, also from the java.nio.file package.\n\nI am preparing a new PS",
      "parentUuid": "ef4cddb4_dc45ad31",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef4cddb4_5cefddd7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-02-12T13:15:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef4cddb4_dc45ad31",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef4cddb4_9cd0451d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2014-02-12T13:47:25Z",
      "side": 1,
      "message": "file an enhancement request in Bugzilla https://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dJGit\n\nJGit still supports Java 5 and 6, we could provide wrapper classes in the optional java7 bundle",
      "parentUuid": "ef4cddb4_1ce555fa",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef4cddb4_dcf3edb8",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-12T14:39:29Z",
      "side": 1,
      "message": "OK, found existing bz entry [1], and added a comment to it. If you would prefer a new one, let me know. Would file that then. Gerrit code would be much much more cleaner, if we would have that enhancement.\n\n [1] https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d353771\n\nDone",
      "parentUuid": "ef4cddb4_9cd0451d",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f435582_feace181",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/quota/MaxRepositorySizeQuota.java",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-12T20:09:55Z",
      "side": 1,
      "message": "And now opened a new one [1].\n\n [1] https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d428039",
      "parentUuid": "ef4cddb4_dcf3edb8",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "cce0380444350322b68dec15f2b9f87b8edb2d2e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}